# 一、图的定义

**图（Gtraph）是由顶点的有穷非空集合和顶点之间边的集合组成**，通常表示为： **G（V，E）** ，其中，G表示一个图，V是图G中顶点的集合，E是图G中边的集合

* 图中的数据元素，称之为 **顶点（Vertex）** 
* 在图结构中，不允许没有顶点，即**顶点集合有穷非空**
* 图中任意两个顶点之间都可能有关系，顶点之间的逻辑关系用边来表示，**边集可以为空**

## 1、各种图定义

### 1）无向图

* 若顶点vi到vj之间的边没有方向，则称这条边为 **无向边（Edge）** 
* 用 **无序偶对（v~i~，v~j~）** 来表示
* 如果图中任意两个顶点之间的边都是无向边，则称该图为 **无向图（Undirected graphs）** 
* 在无向图中，如果任意两个顶点之间都存在边，则称该图为 **无向完全图**
    * 含有n个顶点的无向完全图有 **n * (n - 1) / 2** 条边
    * ![image-20191107221432998](https://cdn.jsdeliver.net/gh/ServantL/figure@master/img/image-20200406204829536.png)
* 因为是无向的，所以（v~i~，v~j~）也可也成（v~j~，v~i~）
* ![image-20191107221547624](images/%E5%9B%BE.assets/image-20191107221547624.png)
    * 对于该图：G=（V，{E}），顶点集合：V={A,B,C,D}；边集合：E={(A,B),(B,C),(C,D),(D,A),(A,C)}
### 2）有向图

* 若从顶点vi到vj的边有方向，则称这条边为 **有向边** ，也称为 **弧（Arc）**
* 用 **有序偶<v~i~,v~j~>** 来表示，v~i~称为 **弧尾（Tail）**，v~j~称为 **弧头（Head）**
* 如果图中任意两个顶点之间的边都是有向边，则称该图为 **有向图（Directed graphs）**
* 在有向图中，如果任意两个顶点之间都存在方向互为相反的两条弧，则称该图为 **有向完全图**
    * 含有n个顶点的有向完全图有 **n * (n - 1)** 条边
    * ![image-20191107221719775](images/%E5%9B%BE.assets/image-20191107221719775.png)
* 因为是有向的，所以<v~i~,v~j~>不能写成<v~j~,v~i~>。
* ![image-20191107221734071](images/%E5%9B%BE.assets/image-20191107221734071.png)
    * 对于该图：G=（V，{E}），顶点集合：V={A,B,C,D}；弧集合：E={<A,D>,<B,A>,<C,A>,<B,C>}

> 在图中，若不存在顶点到其自身的边，且同一条边不重复出现，则称这样的图为 **简单图**
> 有很少条边或弧的图称为 **稀疏图** ，反之称为 **稠密图** 

### 3）网

有些图的边或弧具有与它相关的数字，这种与图的边或弧相关的数叫做 **权（Weight）**，这些权可以表示从一个顶点到另一个顶点的距离或消费。这种带权的图通常称为 **网（Network）** 
<img src="images/%E5%9B%BE.assets/image-20191107221752616.png" alt="image-20191107221752616"  />

### 4）子图

假设有两个图G1=（V1，{E1}）和G2=（V2，{E2}），如果V2是V1的子集且E2是E1的子集，则称G2为G1的 **子图（Subgraph）**

![image-20191107221858478](images/%E5%9B%BE.assets/image-20191107221858478.png)

## 2、图的顶点与边间关系

### 1）度

* 对于无向图G=（V，{E}），如果边（v~i~,v~j~）属于E，则称顶点v~i~和v~j~互为 **邻接点（Adjacent）**，即v~i~和v~j~相邻接。 边（v~i~，v~j~）**依附（incident）** 于顶点v~i~和v~j~，或者说（v~i~，v~j~）与顶点v~i~和v~j~相关联。顶点v的 **度（Degree）** 是和v相关联的边的数目，记为 **TD(v)** 
* 对于有向图G=（V，{E}），如果弧<v~i~,v~j~>属于E，则称顶点v~i~ **邻接到**顶点v~j~，顶点v~j~ **邻接自**顶点v~i~。弧<v~i~,v~j~>和顶点v~i~，v~j~ **相关联**。以顶点v为头的弧的数目称为v的 **入度（InDegree）**，记为 **ID(v)** ；以v为尾的弧的数目称为v的 **出度（OutDegree）**，记为 **OD(v)** ；顶点v的度为：**TD(v)=ID(v) + OD(v)** 。一个有向图的 **ID = OD**

### 2）路径

**路径（Path）是一个顶点序列**

* 对于无向图G=(V,{E})中，从顶点vi到顶点vj的 路径是（v~i~=v~i,0~，v~i,1~，...，v~i,m~=v~j~），其中（v~i,j-1~,v~i,j~）属于E，1 <= j <= m
* 对于有向图其路径也是有向的，顶点序列应满足<v~i,j-1~,v~i,j~>属于E，1 <= j <= m
* **路径的长度是路径上的边或弧的数目**
* 第一个顶点到最后一个顶点相同的路径称为 **回路或环（Cycle）**
* 序列中顶点不重复出现的路径称为 **简单路径**
* 除了第一个顶点和最后一个顶点之外，其余顶点不重复出现的回路，称为 **简单回路或简单环**

### 3）连通图

在无向图中，如果从顶点v~i~到顶点v~j~有路径，则称v~i~和v~j~是连通的。如果对于图中任意两个顶点v~i~、v~j~属于V，v~i~和v~j~都是连通的，则称该图是 **连通图（Connected Graph）**
* 无向图中的极大连通子图称为 **连通分量**，注意连通分量的概念，它强调：
    * 要是子图
    * 子图要是连通的
    * 连通子图含有极大顶点数
    * 具有极大顶点数的连通子图包含依附于这些顶点的所有边
    * ![image-20191107221917388](images/%E5%9B%BE.assets/image-20191107221917388.png)
        * 图2和图3即为图1的连通分量，而图4不是
    
    

在有向图中，如果对于每一对v~i~、v~j~属于V、v~i~ != v~j~，从v~i~到v~j~和从v~j~到v~i~都存在路径，则称该图是 **强连通图**
* 有向图中的极大强连通子图称为**强连通分量**
    * ![image-20191107221927434](images/%E5%9B%BE.assets/image-20191107221927434.png)
        * 图2即为图1的强连通分量
    
### 4）连通图的生成树

* **一个连通图的生成树是一个极小的连通子图，它含有图中全部的n个顶点，但只有足以构成一棵树的n - 1条边**
    * ![image-20191107221940527](images/%E5%9B%BE.assets/image-20191107221940527.png)
    * 图1和图4不是生成树，图2和图3是生成树
* 如果一个有向图恰有一个顶点的入度为0，其余顶点的入度均为1，则是一棵 **有向树** 
* **一个有向图的生成森林由若干棵有向树组成，含有图中全部顶点，但只有足以构成若干棵不相交的有向树的弧**
    * ![image-20191107221958766](images/%E5%9B%BE.assets/image-20191107221958766.png)
    * 图1是一棵有向图，图2和图3这两棵就是图1有向图的生成森林

## 3、图的定义与术语总结

* 图按照 *==有无方向==* 分为 **无向图** 和 **有向图** 。无向图由顶点和边构成，有向图由顶点和弧构成。弧有弧尾和弧头之分
* 图按照 *==边或弧的多少==* 分为 **稀疏图** 和 **稠密图** 。如果任意两个顶点之间都存在边叫 **完全图**，有向的叫 **有向完全图** 。若无重复的边或顶点到自身的边则叫 **简单图**
* 图中顶点之间有 **邻接点、依附** 的概念。无向图顶点的边数叫做 **度**，有向图顶点分为 **入度** 和 **出度**
* 图上的边或弧上带 **权** 则称为 **网**
* 图中顶点减存在 **路径** ，两顶点存在路径则说明是 **连通**的，如果路径最终回到起始点则称为 **环** ，当中不重复叫 **简单路径**。若任意两顶点都是连通的，则图就是 **连通图** ，有向则称 **强连通图**。图中有子图，若子图极大连通则就是 **连通分量** ，有向的则称 **强连通分量**
* 无向图中连通且 n 个顶点 n-1 条边叫 **生成树**。有向图中一顶点入度为 0 ，其余顶点入度为 1 的叫 **有向树**。一个有向图由若干棵有向树构成 **生成森林**

# 二、图的抽象数据类型

![image-20191107224016736](images/%E5%9B%BE.assets/image-20191107224016736.png)


# 三、图的存储结构（五种不同的存储结构）

## 1、邻接距阵

**图的邻接矩阵（Adjacency Matrix）存储方式是用两个数组来表示图。一个一维数组存储图中顶点信息，一个二维数组（称为邻接矩阵）存储图中的边或弧的信息**

### 1）有无向图

设图G有n个顶点，则邻接矩阵是一个n * n的方阵，定义为：

![image-20191107225314548](images/%E5%9B%BE.assets/image-20191107225314548.png)

#### a、无向图

![image-20191107225342047](images/%E5%9B%BE.assets/image-20191107225342047.png)

特点：

* 主对角线的值全为0。因为不存在顶点到自身的边
* 无向图的边数组是一个对称矩阵

#### b、有向图

![image-20191107230031898](images/%E5%9B%BE.assets/image-20191107230031898.png)

特点：

* 主对角线上的数值为0
* 顶点v的==入度==为第v==列==的各数之和。顶点v的==出度==为第v==行==的各数之和

### 2）网图

设图G是网图，有n个顶点，则邻接矩阵是一个n * n的方阵，定义为：

![image-20191107231108377](images/%E5%9B%BE.assets/image-20191107231108377.png)

∞表示一个计算机允许的、大于所有边上权值的值，也就是一个不可能的极限值

![image-20191107231431379](images/%E5%9B%BE.assets/image-20191107231431379.png)

### 3）邻接矩阵的存储结构

![image-20191107231614915](images/%E5%9B%BE.assets/image-20191107231614915.png)



![image-20191107231936115](images/%E5%9B%BE.assets/image-20191107231936115.png)

n个顶点和e条边的无向网图的创建，时间复杂度为==O(n+n^2^+e)==，其中的邻接矩阵的初始化耗费了==O(n^2^)==的时间





## 2、邻接表

我们把 **数组和链表相结合的存储方法称为邻接表（Adjacency List）**

处理方式：

* 图中顶点用一个一维数组或者单链表存储，用数组存储能比较容易的读取顶点信息。对于顶点数组中，每个数据元素还需要存储指向第一个邻接点的指针，以便于查找该顶点的边信息
* 图中每个顶点v的所有邻接点构成一个线性表，由于邻接点的个数不定，所以用单链表存储，**无向图称为顶点v的边表，有向图称为顶点v作为弧尾的出边表**

### 1）无向图的邻接表结构

![image-20191202165422120](images/%E5%9B%BE.assets/image-20191202165422120.png)



**顶点表的各个结点由data和firstedge两个域表示**，data是数据域，存储顶点的信息，firstedge是指针域，指向边表的第一个结点，即此顶点的第一个邻接点。**边表结点由adjvex和next两个域组成**，adjvex是邻接点域，存储某顶点的邻接点在顶点表中的下标，next则存储指向边表中下一个结点的指针。

### 2）有向图的邻接表结构

![image-20191202165908682](images/%E5%9B%BE.assets/image-20191202165908682.png)



### 3）带权值的网图

在边表结点定义中再增加一个**weight**的数据域，用来存储权值信息

![image-20191202170046072](images/%E5%9B%BE.assets/image-20191202170046072.png)



### 4）邻接表的存储结构

![image-20191202170431336](images/%E5%9B%BE.assets/image-20191202170431336.png)



![image-20191202170556548](images/%E5%9B%BE.assets/image-20191202170556548.png)

对于n个顶点e条边来说，时间复杂度为==O(n+e)==















